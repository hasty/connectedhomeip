<?xml version="1.0"?>
<configurator>
  <cluster apiMaturity="internal">
    <code>0xFFF1FC06</code>
    <command code="0x00" name="FailAtFault" optional="false" source="client">
      <access op="invoke" role="manage"/>
      <arg name="Type" type="FaultType"/>
      <arg name="Id" type="int32u"/>
      <arg name="NumCallsToSkip" type="int32u"/>
      <arg name="NumCallsToFail" type="int32u"/>
      <arg name="TakeMutex" type="boolean"/>
      <description>Configure a fault to be triggered deterministically</description>
    </command>
    <command code="0x01" name="FailRandomlyAtFault" optional="false" source="client">
      <access op="invoke" role="manage"/>
      <arg name="Type" type="FaultType"/>
      <arg name="Id" type="int32u"/>
      <arg name="Percentage" type="int8u"/>
      <description>Configure a fault to be triggered randomly, with a given probability defined as a percentage</description>
    </command>
    <define>FAULT_INJECTION_CLUSTER</define>
    <description>The Fault Injection Cluster provide a means for a test harness to configure faults(for example triggering a fault in the system).</description>
    <domain>CHIP</domain>
    <name>Fault Injection</name>
  </cluster>
  <domain name="CHIP"/>
  <enum name="FaultType" type="enum8">
    <cluster code="0xFFF1FC06"/>
    <item name="Unspecified" value="0x00"/>
    <item name="SystemFault" value="0x01"/>
    <item name="InetFault" value="0x02"/>
    <item name="ChipFault" value="0x03"/>
    <item name="CertFault" value="0x04"/>
  </enum>
</configurator>
