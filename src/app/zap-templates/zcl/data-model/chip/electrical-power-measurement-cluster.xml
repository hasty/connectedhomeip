<?xml version="1.0"?>
<configurator>
  <domain name="CHIP"/>
  <cluster>
    <name>Electrical Power Measurement</name>
    <domain>Measurement &amp; Sensing</domain>
    <code>0x0090</code>
    <define>ELECTRICAL_POWER_MEASUREMENT_CLUSTER</define>
    <client init="false" tick="false"/>
    <server init="false" tick="false"/>
    <description>This cluster provides a mechanism for querying data about electrical power as measured by the server.</description><!--Attributes-->
    <attribute code="0x0000" side="server" type="PowerModeEnum" define="ELECTRICAL_POWER_MEASUREMENT_POWER_MODE" isNullable="false" writable="false" optional="false">PowerMode</attribute>
    <attribute code="0x0001" side="server" type="ARRAY" entryType="MeasurementAccuracyStruct" define="ELECTRICAL_POWER_MEASUREMENT_ACCURACY" isNullable="false" writable="false" optional="false">Accuracy</attribute>
    <attribute code="0x0002" side="server" type="ARRAY" entryType="MeasurementRangeStruct" define="ELECTRICAL_POWER_MEASUREMENT_RANGES" isNullable="false" writable="false" optional="false">Ranges</attribute>
    <attribute code="0x0003" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_VOLTAGE" isNullable="true" writable="false" optional="false">Voltage</attribute>
    <attribute code="0x0004" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_CURRENT" isNullable="true" writable="false" optional="false">Current</attribute>
    <attribute code="0x0005" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_ACTIVE_POWER" isNullable="true" writable="false" optional="false">ActivePower</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x0006" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_RMS_CURRENT" isNullable="true" writable="false" optional="true">RMSCurrent</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x0007" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_RMS_POWER" isNullable="true" writable="false" optional="true">RMSPower</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x0008" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_APPARENT_POWER" isNullable="true" writable="false" optional="true">ApparentPower</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x0009" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_REACTIVE_POWER" isNullable="true" writable="false" optional="true">ReactivePower</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x000A" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_FREQUENCY" isNullable="true" min="0" max="1000000" writable="false" optional="true">Frequency</attribute><!--Conformance feature HARM - for now optional-->
    <attribute code="0x000B" side="server" type="ARRAY" entryType="HarmonicMeasurementStruct" define="ELECTRICAL_POWER_MEASUREMENT_HARMONIC_CURRENTS" isNullable="true" writable="false" optional="true">HarmonicCurrents</attribute><!--Conformance feature PWRQ - for now optional-->
    <attribute code="0x000C" side="server" type="ARRAY" entryType="HarmonicMeasurementStruct" define="ELECTRICAL_POWER_MEASUREMENT_HARMONIC_PHASES" isNullable="true" writable="false" optional="true">HarmonicPhases</attribute>
    <attribute code="0x000D" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_POWER_FACTOR" isNullable="true" writable="false" optional="true">PowerFactor</attribute><!--Conformance feature ALTC - for now optional-->
    <attribute code="0x000E" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_LINE_CURRENT" isNullable="true" min="0" writable="false" optional="true">LineCurrent</attribute><!--Conformance feature THRP - for now optional-->
    <attribute code="0x000F" side="server" type="int64s" define="ELECTRICAL_POWER_MEASUREMENT_NEUTRAL_CURRENT" isNullable="true" writable="false" optional="true">NeutralCurrent</attribute>
    <event code="0x0000" name="MeasurementPeriodRange" priority="info" side="server" optional="true">
      <description>MeasurementPeriodRange</description>
      <field name="MeasurementType" type="MeasurementTypeEnum"/>
      <field name="PeriodStart" type="epoch_s"/>
      <field name="PeriodEnd" type="epoch_s"/>
      <field name="Min" type="int64s"/>
      <field name="MinTimestamp" type="epoch_s"/>
      <field name="Max" type="int64s"/>
      <field name="MaxTimestamp" type="epoch_s"/>
    </event>
  </cluster>
  <enum name="PowerModeEnum" type="">
    <cluster code="0x0090"/>
    <item name="Unspecified" value="0x00"/>
    <item name="DC" value="0x01"/>
    <item name="AC" value="0x02"/>
  </enum>
  <enum name="MeasurementTypeEnum" type="">
    <cluster code="0x0090"/>
    <item name="Unspecified" value="0x00"/>
    <item name="Voltage" value="0x01"/>
    <item name="Current" value="0x02"/>
    <item name="ActivePower" value="0x03"/>
    <item name="RMSCurrent" value="0x04"/>
    <item name="RMSPower" value="0x05"/>
    <item name="ApparentPower" value="0x06"/>
    <item name="ReactivePower" value="0x07"/>
    <item name="Frequency" value="0x08"/>
    <item name="PowerFactor" value="0x09"/>
    <item name="LineCurrent" value="0x0A"/>
    <item name="NeutralCurrent" value="0x0B"/>
  </enum>
  <struct name="MeasurementAccuracyStruct">
    <cluster code="0x0090"/>
    <item name="MeasurementType" type="MeasurementTypeEnum"/>
    <item name="Measured" type="boolean"/>
    <item name="PercentTypical" type="percent100ths" isNullable="true" optional="true"/>
    <item name="PercentMin" type="percent100ths" optional="true"/>
    <item name="PercentMax" type="percent100ths" optional="true"/>
    <item name="FixedTypical" type="int64s" isNullable="true" optional="true" min="0"/>
    <item name="FixedMin" type="int64s" optional="true" min="0"/>
    <item name="FixedMax" type="int64s" optional="true" min="0"/>
  </struct>
  <struct name="MeasurementRangeStruct">
    <cluster code="0x0090"/>
    <item name="MeasurementType" type="MeasurementTypeEnum"/>
    <item name="Min" type="int64s" isNullable="true"/>
    <item name="MinTimestamp" type="epoch_s" isNullable="true"/>
    <item name="Max" type="int64s" isNullable="true"/>
    <item name="MaxTimestamp" type="epoch_s" isNullable="true"/>
  </struct>
  <struct name="HarmonicMeasurementStruct">
    <cluster code="0x0090"/>
    <item name="Order" type="int8u" min="1"/>
    <item name="Measurement" type="int32s" isNullable="true"/>
  </struct>
</configurator>
