<?xml version="1.0"?>
<configurator>
  <cluster>
    <attribute code="0x00" default="0x0000000000000000" define="BREADCRUMB" optional="false" side="server" type="int64u" writable="true">
      <access op="read" privilege="view"/>
      <access op="write" privilege="administer"/>
      <description>Breadcrumb</description>
    </attribute>
    <attribute code="0x01" define="BASIC_COMMISSIONING_INFO" optional="false" side="server" type="BasicCommissioningInfo" writable="false">BasicCommissioningInfo</attribute>
    <attribute code="0x02" define="REGULATORY_CONFIG" optional="false" side="server" type="RegulatoryLocationTypeEnum" writable="false">RegulatoryConfig</attribute>
    <attribute code="0x03" define="LOCATION_CAPABILITY" optional="false" side="server" type="RegulatoryLocationTypeEnum" writable="false">LocationCapability</attribute>
    <attribute code="0x04" default="1" define="SUPPORTS_CONCURRENT_CONNECTION" optional="false" side="server" type="boolean" writable="false">SupportsConcurrentConnection</attribute>
    <code>0x0030</code>
    <command cli="chip fabric_commissioning armfailsafe" code="0x00" name="ArmFailSafe" optional="false" response="ArmFailSafeResponse" source="client">
      <access op="invoke" privilege="administer"/>
      <arg name="ExpiryLengthSeconds" type="int16u"/>
      <arg name="Breadcrumb" type="int64u"/>
      <description>Arm the persistent fail-safe timer with an expiry time of now + ExpiryLengthSeconds using device clock</description>
    </command>
    <command cli="chip fabric_commissioning armfailsaferesponse" code="0x01" name="ArmFailSafeResponse" optional="false" source="server">
      <arg name="ErrorCode" type="CommissioningErrorEnum"/>
      <arg name="DebugText" type="char_string"/>
      <description>Success/failure response for ArmFailSafe command</description>
    </command>
    <command cli="chip fabric_commissioning setregulatoryconfig" code="0x02" name="SetRegulatoryConfig" response="SetRegulatoryConfigResponse" source="client">
      <access op="invoke" privilege="administer"/>
      <arg name="NewRegulatoryConfig" type="RegulatoryLocationTypeEnum"/>
      <arg name="CountryCode" type="char_string"/>
      <arg name="Breadcrumb" type="int64u"/>
      <description>Set the regulatory configuration to be used during commissioning</description>
    </command>
    <command cli="chip fabric_commissioning setregulatoryconfigresponse" code="0x03" name="SetRegulatoryConfigResponse" source="server">
      <arg name="ErrorCode" type="CommissioningErrorEnum"/>
      <arg name="DebugText" type="char_string"/>
      <description>Success/failure response for SetRegulatoryConfig command</description>
    </command>
    <command cli="chip fabric_commissioning commissioningcomplete" code="0x04" isFabricScoped="true" name="CommissioningComplete" optional="false" response="CommissioningCompleteResponse" source="client">
      <access op="invoke" privilege="administer"/>
      <description>Signals the Server that the Client has successfully completed all steps of Commissioning/Recofiguration needed during fail-safe period.</description>
    </command>
    <command cli="chip fabric_commissioning commissioningcompleteresponse" code="0x05" name="CommissioningCompleteResponse" optional="false" source="server">
      <arg name="ErrorCode" type="CommissioningErrorEnum"/>
      <arg name="DebugText" type="char_string"/>
      <description>Indicates to client whether CommissioningComplete command succeeded</description>
    </command>
    <define>GENERAL_COMMISSIONING_CLUSTER</define>
    <description>This cluster is used to manage global aspects of the Commissioning flow.</description>
    <domain>General</domain>
    <name>General Commissioning</name>
  </cluster>
  <domain name="CHIP"/>
  <enum name="CommissioningErrorEnum" type="enum8">
    <cluster code="0x0030"/>
    <item name="OK" value="0x0"/>
    <item name="ValueOutsideRange" value="0x1"/>
    <item name="InvalidAuthentication" value="0x2"/>
    <item name="NoFailSafe" value="0x3"/>
    <item name="BusyWithOtherAdmin" value="0x4"/>
  </enum>
  <enum name="RegulatoryLocationTypeEnum" type="enum8">
    <cluster code="0x0030"/>
    <item name="Indoor" value="0x0"/>
    <item name="Outdoor" value="0x1"/>
    <item name="IndoorOutdoor" value="0x2"/>
  </enum>
  <struct name="BasicCommissioningInfo">
    <cluster code="0x0030"/>
    <item fieldId="0" name="FailSafeExpiryLengthSeconds" type="int16u"/>
    <item fieldId="1" name="MaxCumulativeFailsafeSeconds" type="int16u"/>
  </struct>
</configurator>
